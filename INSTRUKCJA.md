-- Tabela Kategorii
create table public.categories (
  id bigint generated by default as identity primary key,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null,
  name text not null
);

-- Tabela Produktów
create table public.products (
  id bigint generated by default as identity primary key,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null,
  name text not null,
  description text,
  price numeric not null,
  category_id bigint references public.categories(id) on delete cascade
);

-- Wyłączenie RLS (Row Level Security) dla prostoty projektu
-- UWAGA: W środowisku produkcyjnym powinieneś skonfigurować Polityki RLS.
alter table public.categories enable row level security;
alter table public.products enable row level security;

create policy "Enable all access for all users" on public.categories
for all using (true) with check (true);

create policy "Enable all access for all users" on public.products
for all using (true) with check (true);
